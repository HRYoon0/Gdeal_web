(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{6355:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var l=t(5155),a=t(2115),r=t(6681),o=t(5317),n=t(6104);let d="resources";async function c(e){try{return(await (0,o.gS)((0,o.rJ)(n.db,d),{...e,type:"resource",format:"LINK",createdAt:(0,o.O5)(),updatedAt:(0,o.O5)()})).id}catch(e){throw console.error("자료 생성 중 오류 발생:",e),e}}async function i(){try{let e=(0,o.P)((0,o.rJ)(n.db,d),(0,o.My)("createdAt","desc"));return(await (0,o.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("자료 목록 조회 중 오류 발생:",e),e}}async function x(e,s){try{let t=(0,o.doc)(n.db,d,e);await (0,o.updateDoc)(t,{...s,updatedAt:(0,o.O5)()})}catch(e){throw console.error("자료 수정 중 오류 발생:",e),e}}async function m(e){try{let s=(0,o.doc)(n.db,d,e);await (0,o.kd)(s)}catch(e){throw console.error("자료 삭제 중 오류 발생:",e),e}}function u(e){return e?e.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):""}var g=t(351);function h(e){let{resource:s,isOpen:t,onClose:r}=e,{preview:o,loading:n,error:d}=function(e){let[s,t]=(0,a.useState)(null),[l,r]=(0,a.useState)(!1),[o,n]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!e)return void t(null);try{new URL(e),setTimeout(()=>{r(!0),n(null);try{let s=new URL(e).hostname,l=s,a=s;if(s.includes("drive.google.com"))l="Google Drive 자료",a="Google Drive";else if(s.includes("docs.google.com"))l="Google 문서",a="Google Docs";else if(s.includes("script.google.com")){let s=e.match(/\/macros\/s\/([a-zA-Z0-9-_]+)\//),t=s?s[1].substring(0,8)+"...":"";l=t?"Apps Script (".concat(t,")"):"Google Apps Script 웹 앱",a="Google Apps Script"}else s.includes("youtube.com")||s.includes("youtu.be")?(l="YouTube 동영상",a="YouTube"):s.includes("github.com")?(l="GitHub 리포지토리",a="GitHub"):s.includes("notion.so")?(l="Notion 페이지",a="Notion"):s.includes("canva.com")?(l="Canva 디자인",a="Canva"):s.includes("figma.com")&&(l="Figma 디자인",a="Figma");t({title:l,description:"웹 링크 자료",image:null,siteName:a,url:e,domain:s})}catch(e){n("유효하지 않은 URL입니다"),t(null)}finally{r(!1)}},500)}catch(e){n("유효하지 않은 URL입니다"),t(null),r(!1)}},[e]),{preview:s,loading:l,error:o}}(s.downloadUrl),[c,i]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{t&&i(!1)},[t,s.downloadUrl]),!t)return null;let x=()=>{window.open(s.downloadUrl,"_blank","noopener,noreferrer")},m=(e=>{try{let s=new URL(e),t=s.hostname;if(t.includes("script.google.com")||t.includes("docs.google.com")||t.includes("forms.google.com")||t.includes("sites.google.com")||t.includes("drive.google.com"))return!1;let l=s.pathname.toLowerCase();if([".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx",".zip",".rar",".7z",".mp4",".mp3",".jpg",".jpeg",".png",".gif",".svg",".txt",".hwp",".ai",".psd",".mov",".avi",".wmv",".flv",".webm",".mkv"].some(e=>l.endsWith(e))||t.includes("dropbox.com")||t.includes("dl.dropboxusercontent.com")||t.includes("onedrive.live.com")||t.includes("1drv.ms")||t.includes("box.com")||t.includes("app.box.com")||t.includes("we.tl")||t.includes("wetransfer.com")||t.includes("mega.nz")||t.includes("mega.co.nz")||t.includes("mediafire.com")||t.includes("4shared.com")||l.includes("/download/")||s.search.includes("download"))return!1;return!["google.com","youtube.com","facebook.com","twitter.com","instagram.com","linkedin.com","amazon.com","netflix.com","microsoft.com","apple.com","github.com","stackoverflow.com","reddit.com","wikipedia.org","litt.ly","bit.ly","tinyurl.com","short.ly","naver.com","daum.net","kakao.com","tistory.com","notion.so","gw.googleforeducation.org"].some(e=>t.includes(e))}catch(e){return!1}})(s.downloadUrl)&&!c,h=(e=>{try{let s=new URL(e).hostname;return s.includes("script.google.com")||s.includes("docs.google.com")||s.includes("forms.google.com")||s.includes("sites.google.com")||s.includes("drive.google.com")}catch(e){return!1}})(s.downloadUrl),p=(e=>{try{return new URL(e).hostname.includes("script.google.com")}catch(e){return!1}})(s.downloadUrl),b=(e=>{try{let s=new URL(e),t=s.pathname.toLowerCase(),l=s.hostname.toLowerCase();if([".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx",".zip",".rar",".7z",".mp4",".mp3",".jpg",".jpeg",".png",".gif",".svg",".txt",".hwp",".ai",".psd",".mov",".avi",".wmv",".flv",".webm",".mkv"].some(e=>t.endsWith(e))||l.includes("drive.google.com")&&t.includes("/file/d/")||l.includes("dropbox.com")||l.includes("dl.dropboxusercontent.com")||l.includes("onedrive.live.com")||l.includes("1drv.ms")||l.includes("sharepoint.com")||l.includes("box.com")||l.includes("app.box.com")||l.includes("icloud.com")&&t.includes("iclouddrive")||l.includes("we.tl")||l.includes("wetransfer.com")||l.includes("github.com")&&t.includes("/releases/download/")||l.includes("mega.nz")||l.includes("mega.co.nz")||l.includes("mediafire.com")||l.includes("4shared.com")||t.includes("/download/")||s.search.includes("download"))return!0;return!1}catch(e){return!1}})(s.downloadUrl);return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,l.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start p-6 border-b border-gray-200",children:[(0,l.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,l.jsx)(g.ayE,{className:"text-2xl text-[#66ae7d] mt-1 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),(0,l.jsx)("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:s.description})]})]}),(0,l.jsx)("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0",children:(0,l.jsx)(g.yGN,{className:"text-xl"})})]}),(0,l.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,l.jsx)(g.JXP,{className:"text-[#66ae7d]"}),(0,l.jsx)("span",{className:"font-medium",children:"자료 제작자:"}),(0,l.jsx)("span",{children:s.author})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,l.jsx)(g.wIk,{className:"text-[#66ae7d]"}),(0,l.jsx)("span",{className:"font-medium",children:"등록일:"}),(0,l.jsx)("span",{children:u(s.createdAt)})]})]}),s.tags&&s.tags.length>0&&(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(g.cnX,{className:"text-[#66ae7d] mt-1 flex-shrink-0"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:s.tags.map((e,s)=>(0,l.jsxs)("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:["#",e]},s))})]})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,l.jsx)(g.HaR,{className:"text-[#66ae7d]"}),(0,l.jsx)("span",{children:m?"페이지 미리보기":h?p?"스크립트 미리보기":"페이지 미리보기":b?"파일 정보":"링크 미리보기"})]}),m&&(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[(0,l.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),(0,l.jsx)("span",{className:"truncate",children:s.downloadUrl})]})}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("iframe",{src:s.downloadUrl,className:"w-full h-[500px] border-0",title:"페이지 미리보기",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation",loading:"lazy",onError:()=>{console.log("iframe 로드 실패:",s.downloadUrl),i(!0)}})}),(0,l.jsx)("div",{className:"p-4 text-center border-t border-gray-200",children:(0,l.jsxs)("button",{onClick:x,className:"inline-flex items-center space-x-2 bg-[#66ae7d] hover:bg-[#497e56] text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[(0,l.jsx)(g.HaR,{}),(0,l.jsx)("span",{children:"새 탭에서 열기"})]})})]})}),h&&(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[(0,l.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),(0,l.jsx)("span",{className:"truncate",children:s.downloadUrl})]})}),(0,l.jsx)("div",{className:"p-6 text-center",children:(0,l.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 border border-green-200 rounded-xl p-8 mb-4",children:(0,l.jsxs)("div",{className:"text-center",children:[p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,l.jsx)(g.PjK,{className:"text-3xl text-white"})}),(0,l.jsx)("h4",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Google Apps Script 웹 앱"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.HaR,{className:"text-6xl mx-auto mb-4 text-[#66ae7d]"}),(0,l.jsx)("h4",{className:"text-xl font-semibold mb-3 text-gray-900",children:b?"파일 공유":"웹 애플리케이션"}),(0,l.jsx)("p",{className:"text-xs mb-6 text-gray-500",children:b?"아래 버튼을 클릭하여 파일을 확인하고 다운로드 받으세요":"아래 버튼을 클릭하여 새 탭에서 확인하세요"})]}),(0,l.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:(0,l.jsxs)("button",{onClick:x,className:"inline-flex items-center justify-center space-x-2 bg-[#66ae7d] hover:bg-[#497e56] text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[(0,l.jsx)(g.HaR,{className:"text-lg"}),(0,l.jsx)("span",{children:p?"스크립트 확인하기":b?"파일 다운로드":"자료 확인하기"})]})})]})})})]})}),!h&&!m&&(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[(0,l.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),(0,l.jsx)("span",{className:"truncate",children:s.downloadUrl})]})}),(0,l.jsx)("div",{className:"p-6 text-center",children:(0,l.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 border border-green-200 rounded-xl p-8 mb-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,l.jsx)(g.HaR,{className:"text-3xl text-white"})}),(0,l.jsx)("h4",{className:"text-2xl font-bold mb-6 text-gray-900",children:"웹페이지 공유"}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("button",{onClick:x,className:"inline-flex items-center justify-center space-x-2 bg-[#66ae7d] hover:bg-[#497e56] text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[(0,l.jsx)(g.HaR,{className:"text-lg"}),(0,l.jsx)("span",{children:"링크 방문하기"})]})})]})})})]})})]})]})})}function p(){let{user:e,userProfile:s,loading:t}=(0,r.A)(),[o,n]=(0,a.useState)([]),[d,p]=(0,a.useState)(!0),[b,f]=(0,a.useState)(""),[j,y]=(0,a.useState)([]),[v,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(null),[C,U]=(0,a.useState)(null),[S,L]=(0,a.useState)({title:"",description:"",downloadUrl:"",author:"",tags:""}),A=s&&("superAdmin"===s.role||"operations-office"===s.memberTier||"sharing-member"===s.memberTier),R=async()=>{try{p(!0);let e=await i();n(e)}catch(e){console.error("자료 로드 실패:",e)}finally{p(!1)}};(0,a.useEffect)(()=>{R()},[]),(0,a.useEffect)(()=>{if(!d&&o.length>0){let scrollFn=()=>{let h=window.location.hash.substring(1);if(h){let el=document.getElementById(h);if(el){el.scrollIntoView({behavior:"smooth",block:"center"});el.style.boxShadow="0 0 20px rgba(102, 174, 125, 0.5)";setTimeout(()=>{el.style.boxShadow=""},3e3)}}};setTimeout(scrollFn,500);setTimeout(scrollFn,1500);window.addEventListener("hashchange",scrollFn)}},[d,o]);let G=o.filter(e=>{let s=b.toLowerCase(),t=e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.author.toLowerCase().includes(s)||e.tags.some(e=>e.toLowerCase().includes(s)),l=0===j.length||j.some(s=>e.tags.some(e=>e.toLowerCase().includes(s.toLowerCase())));return t&&l}),z=Array.from(new Set(o.flatMap(e=>e.tags))),E=()=>{L({title:"",description:"",downloadUrl:"",author:"",tags:""}),k(null)},T=e=>{e?(k(e),L({title:e.title,description:e.description,downloadUrl:e.downloadUrl,author:e.author,tags:e.tags.join(", ")})):E(),w(!0)},H=()=>{w(!1),E()},P=async s=>{if(s.preventDefault(),e)try{let s=S.tags.split(",").map(e=>e.trim()).filter(Boolean);if(N)await x(N.id,{...S,tags:s});else{let t={...S,tags:s,createdBy:e.uid};await c(t)}await R(),H()}catch(e){console.error("자료 저장 실패:",e),alert("자료 저장에 실패했습니다.")}},_=async e=>{if(confirm("정말로 이 자료를 삭제하시겠습니까?"))try{await m(e.id),await R()}catch(e){console.error("자료 삭제 실패:",e),alert("자료 삭제에 실패했습니다.")}};return t?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#66ae7d] mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"로딩 중..."})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-[#66ae7d] to-[#497e56] text-white py-16 relative",children:[(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"자료공유"}),(0,l.jsx)("p",{className:"text-xl opacity-90",children:"실전에서 검증된 디지털 교육 자료를 공유하고 활용하세요"})]})}),A&&(0,l.jsxs)("button",{onClick:()=>T(),className:"absolute bottom-4 right-4 bg-white text-[#66ae7d] px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-lg",children:"+"}),(0,l.jsx)("span",{children:"자료 등록"})]})]}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[!e&&(0,l.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)(g.JXP,{className:"text-blue-600 text-xl"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"text-blue-800 font-medium mb-2",children:"로그인하시면 자료를 다운로드할 수 있습니다"}),(0,l.jsx)("p",{className:"text-blue-700 text-sm mb-3",children:"현재 자료 목록만 확인할 수 있습니다. 로그인하시면 자료의 상세 정보를 보고 다운로드할 수 있습니다."}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:()=>window.location.href="/home?login=true",className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded-md font-medium transition-colors",children:"로그인하기"}),(0,l.jsx)("button",{onClick:()=>window.location.href="/home?signup=true",className:"bg-white hover:bg-blue-50 text-blue-600 text-sm px-4 py-2 rounded-md font-medium border border-blue-600 transition-colors",children:"회원가입하기"})]})]})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[(0,l.jsx)("div",{className:"flex flex-col lg:flex-row gap-4",children:(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("input",{type:"text",placeholder:"자료 제목, 내용, 작성자, 태그로 검색...",value:b,onChange:e=>f(e.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#66ae7d] text-gray-900"})})}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"인기 태그:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:z.slice(0,8).map((e,s)=>{let t=j.includes(e);return(0,l.jsxs)("button",{onClick:()=>{y(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},className:"text-xs px-2 py-1 rounded transition-colors ".concat(t?"bg-[#66ae7d] text-white":"bg-gray-100 hover:bg-[#66ae7d] hover:text-white text-gray-700"),children:["#",e]},s)})}),j.length>0&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["선택된 태그 (",j.length,"개): ",j.join(", ")]})})]})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("p",{className:"text-gray-600",children:["총 ",(0,l.jsx)("span",{className:"font-semibold text-[#66ae7d]",children:G.length}),"개의 자료"]})}),d&&(0,l.jsx)("div",{className:"text-center py-12",children:(0,l.jsx)("p",{className:"text-gray-500",children:"자료를 불러오는 중..."})}),!d&&(0,l.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(s=>(0,l.jsx)("div",{id:s.id,className:"bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:(0,l.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g.ayE,{className:"text-2xl text-[#66ae7d]"}),(0,l.jsx)("span",{className:"text-sm bg-[#66ae7d]/10 text-[#66ae7d] px-3 py-1 rounded-full font-medium",children:"자료"})]}),A&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>T(s),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-full transition-colors",title:"수정",children:(0,l.jsx)(g.SG1,{className:"text-lg"})}),(0,l.jsx)("button",{onClick:()=>_(s),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors",title:"삭제",children:(0,l.jsx)(g.IXo,{className:"text-lg"})})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:s.title}),(0,l.jsx)("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed whitespace-pre-wrap line-clamp-5",children:s.description}),(0,l.jsxs)("div",{className:"mt-auto space-y-4",children:[(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:s.tags.map((e,s)=>(0,l.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["#",e]},s))}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(g.JXP,{className:"text-[#66ae7d]"}),(0,l.jsx)("span",{children:s.author})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(g.wIk,{className:"text-[#66ae7d]"}),(0,l.jsx)("span",{children:u(s.createdAt)})]})]}),e?(0,l.jsxs)("button",{onClick:()=>U(s),className:"w-full bg-[#66ae7d] hover:bg-[#497e56] text-white py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2",children:[(0,l.jsx)(g.Vap,{}),(0,l.jsx)("span",{children:"자료 보기"})]}):(0,l.jsxs)("button",{onClick:()=>window.location.href="/home?login=true",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 border border-gray-300",children:[(0,l.jsx)(g.JXP,{}),(0,l.jsx)("span",{children:"로그인 후 이용가능"})]})]})]})},s.id))}),!d&&0===G.length&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("p",{className:"text-gray-500 mb-4",children:"검색 조건에 맞는 자료가 없습니다."}),(0,l.jsx)("button",{onClick:()=>{f(""),y([])},className:"text-[#66ae7d] hover:underline",children:"검색 조건 초기화"})]})]}),v&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&H()},children:(0,l.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:N?"자료 수정":"새 자료 등록"}),(0,l.jsx)("button",{onClick:H,className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)("span",{className:"text-2xl",children:"\xd7"})})]}),(0,l.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"자료 제목 *"}),(0,l.jsx)("input",{type:"text",value:S.title,onChange:e=>L(s=>({...s,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#66ae7d] text-gray-900",placeholder:"자료 제목을 입력하세요",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"자료 설명 *"}),(0,l.jsx)("textarea",{rows:4,value:S.description,onChange:e=>L(s=>({...s,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#66ae7d] text-gray-900",placeholder:"자료에 대한 상세 설명을 입력하세요",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"자료 제작자 *"}),(0,l.jsx)("input",{type:"text",value:S.author,onChange:e=>L(s=>({...s,author:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#66ae7d] text-gray-900",placeholder:"자료 제작자명을 입력하세요",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"자료 링크 *"}),(0,l.jsx)("input",{type:"url",value:S.downloadUrl,onChange:e=>L(s=>({...s,downloadUrl:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#66ae7d] text-gray-900",placeholder:"https://drive.google.com/... 또는 온라인 자료 링크를 입력하세요",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"태그 (쉼표로 구분)"}),(0,l.jsx)("input",{type:"text",value:S.tags,onChange:e=>L(s=>({...s,tags:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#66ae7d] text-gray-900",placeholder:"ChatGPT, AI, 수업설계, 가이드"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,l.jsx)("button",{type:"button",onClick:H,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"취소"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 bg-[#66ae7d] text-white rounded-md hover:bg-[#497e56] transition-colors",children:N?"수정하기":"등록하기"})]})]})]})})}),C&&(0,l.jsx)(h,{resource:C,isOpen:!!C,onClose:()=>U(null)})]})}},6784:(e,s,t)=>{Promise.resolve().then(t.bind(t,6355))}},e=>{e.O(0,[135,965,844,670,86,156,441,964,358],()=>e(e.s=6784)),_N_E=e.O()}]);